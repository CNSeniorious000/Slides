![](title.png)

è¿™ç¯‡ä¸æˆ‘ä»¥å‰å†™çš„ä¸ä¸€æ ·ï¼Œè¿™ç¯‡å¹¶ä¸æ˜¯æŒ‰æˆ‘è‡ªå·±å®ç°çš„æ—¶é—´é¡ºåºè®°å™çš„ï¼Œè€Œæ˜¯**æŒ‰ç…§æ›´å®¹æ˜“ç†è§£çš„æ–¹å¼é‡æ–°ç»„ç»‡äº†æ•´ä¸ªè¿‡ç¨‹**ã€‚

ä¹è§‚ä¼°è®¡ï¼Œä»»ä½•ä¸€ä¸ªæœ‰ä¸€å®špythonåŸºç¡€è¯­æ³•åŸºç¡€çš„äººéƒ½èƒ½åœ¨1åˆ†é’Ÿå†…æŒæ¡æœ¬æ–‡å‰åŠéƒ¨åˆ†

![ï¼ˆå¤±çœŸä¸¥é‡çš„ï¼‰æ•ˆæœå›¾](demo_.gif)

é¦–å…ˆè€ƒè™‘æ ¸å¿ƒåŠŸèƒ½ï¼š**æŸ¥å­—å…¸**å³ä¸º**è¾“å…¥æŸ¥è¯¢å†…å®¹â€”â€”æ˜¾ç¤ºæŸ¥è¯¢ç»“æœ**çš„è¿‡ç¨‹ã€‚å› æ­¤çª—å£éœ€è¦**è¾“å…¥**å’Œ**å›æ˜¾**ä¸¤ç§æ§ä»¶

![ä¸€ä¸ªæ‰¼è¦çš„æµç¨‹å›¾](flow_chat.svg)

# åç«¯
å…ˆå®ç°åŠŸèƒ½ã€‚ç™¾åº¦æœç´¢â€œpython å‰ªè´´æ¿â€ç­‰å…³é”®å­—ï¼Œå¾—çŸ¥`pyperclip.copy()`å¯ä»¥å®ç°å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿

æ¨¡ç³ŠæŸ¥è¯¢ç”¨`thefuzz`åº“è§£å†³ï¼Œæµè§ˆé¦–é¡µ(`https://github.com/seatgeek/thefuzz`)æŸ¥é˜…readmeå¾—çŸ¥æœ€æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨çš„APIå°±æ˜¯`thefuzz.process.extractBests(query, choices)`ã€‚æ˜¾ç„¶æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªå­—ç¬¦ä¸²queryéœ€è¦æä¾›ç›®æ ‡choicesåˆ—è¡¨ã€‚

æ•°æ®æ¥æºä¸ºä¸€ä¸ªwordæ–‡æ¡£ï¼Œå°†é‡Œé¢çš„æ•°æ®å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæ‰‹åŠ¨åˆ æ‰ä¸ªä½æ•°ä¸ªæ ‡é¢˜ï¼Œå‘½åä¸º`glossary.txt`ï¼Œå¦‚å›¾ï¼ˆç”±å·¦åˆ°å³ï¼‰

![åˆæ­¥æ ¼å¼åŒ–](resource.png)

è¯»å–æ–‡ä»¶ï¼ŒæŒ‰è¡Œåˆ†å‰²å¾—åˆ°å­—ç¬¦ä¸²åˆ—è¡¨
```python
open("glossary.txt").read().split("\n")
# è¿™ä¸ä¸€å®šèƒ½ç”¨ï¼Œå› ä¸ºï¼š
# Windowsä¸‹é»˜è®¤è¡Œå°¾ä¸º\r\n
# å¦‚é‡åˆ°è§£ç æŠ¥é”™åˆ™åº”ä»¥äºŒè¿›åˆ¶è¯»å…¥å†decode()
words_list = open("glossary.txt", "rb").read().decode().split("\r\n")
```
è¯•ç€æŸ¥è¯¢å‘ç°æ•ˆæœä¸ä¸€å®šå¥½ï¼Œæœ€åå‘ç°æ˜¯å› ä¸ºæœ‰çš„ä¸­è‹±æ–‡è¿åœ¨ä¸€èµ·äº†ã€‚æ•°æ®è´¨é‡ä¸€èˆ¬èˆ¬ï¼Œéœ€è¦è¿›ä¸€æ­¥æ ¼å¼åŒ–ï¼ˆåœ¨ä¸­è‹±æ–‡é—´åŠ ä¸€ä¸ªç©ºæ ¼å³å¯ï¼‰
```python
glossary = []  # better word list
for string in word_list:
    for i, char in enumerate(string):
        if ord(char) > ord('z'):  # æ„å‘³ç€ä¸æ˜¯å­—æ¯æˆ–ç©ºæ ¼
            glossary.append(f"{left.strip()} {right.strip()}")
            break  # åˆ«å¿˜äº†è·³å‡ºå¾ªç¯
```
æœ€åå°è£…ä¸€ä¸‹æŸ¥è¯¢ä»£ç ä¸ºä¸€ä¸ªå‡½æ•°
```python
# functools.cacheè¿™ä¸ªå°±æ˜¯æ ‡å‡†åº“ä¸­çš„memoizeè£…é¥°å™¨ï¼Œåˆ äº†ç•¥æ…¢è€Œå·²
from functools import cache
from thefuzz import process

@cache
def search(text):
    return process.extractBests(text, glossary, limit=10)  # å–å‰åä¸ªç»“æœï¼ˆå¯è°ƒæ•´ï¼‰
```
çœŸä¸é”™ï¼éšä¾¿æœç´¢ä¸€ä¸ªè¯è¯•ä¸€ä¸‹å§ï¼
```python
>>> search("plane")
[('Coronal plane ä»å‰çœ‹åˆ°çš„é¢', 90), ('Sagittal plane ä»æ—è¾¹çœ‹åˆ°çš„å¹³é¢', 90), ('Implanted æ¤å…¥', 72), ('Vigilance ï¼ˆä¿æŒï¼‰è­¦æƒ•', 72), ...
```
æ˜¾ç„¶ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª`å…ƒç»„(å­—ç¬¦ä¸², åŒ¹é…ç‡)`ã€‚è‡³æ­¤ï¼Œåç«¯åŸºæœ¬å®Œæˆã€‚
> äº‹å®ä¸Šï¼Œå¦‚æœå¯¹pythonçš„è£…é¥°å™¨æœºåˆ¶æ¯”è¾ƒç†Ÿæ‚‰ï¼Œsearch()å‡½æ•°å¯ä»¥å†™æˆä¸€è¡Œ
> ```python
> search = cache(lambda text: process.extractBests(text, glossary, limit=10))
> ```
> ä½†æ˜¯ä½ è¿™æ ·å†™IDEå°±ä¼šç»™ä½ ç”»æ³¢æµªçº¿ğŸ˜‘

# å‰ç«¯
å‰ç«¯æ¯”è¾ƒéšæ„äº†ï¼Œ~~ç”šè‡³éƒ½æ²¡å¿…è¦æ~~ã€‚ä½†ç”±äº**æˆ‘æœ¬æ¥åšè¿™ä¸ªå°±æ˜¯ä¸ºäº†æ¨é”€æˆ‘çš„å¦ä¸€ä¸ªGUIæ¡†æ¶`Slides`**ï¼ˆåŸºäº`glooey`çš„äºŒæ¬¡å°è£…ï¼Œå’Œ`FPgui`é‚£ä¸ªé¡¹ç›®å®Œå…¨ä¸åŒæºï¼‰ï¼Œæ‰€ä»¥è¿˜æ˜¯è®²ä¸€ä¸‹å§ğŸ¤£
- `glooey`æ˜¯ä¸€ä¸ªéå¸¸æœ‰ä¸ªæ€§çš„GUIæ¡†æ¶ï¼ˆåŸºäº`pyglet`ï¼‰ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯æŠŠ**é¢œè‰²**ã€**å¯¹é½**ï¼Œç”šè‡³**å¤§å°**è¿™äº›ä¸€èˆ¬éƒ½æ˜¯å®ä¾‹å±æ€§çš„å±æ€§ä½œä¸ºç±»å±æ€§æ¥è®¾ç½®ã€‚
- åœ¨`glooey`çš„é¦–é¡µ`glooey.readthedocs.io/en/latest/`å¯ä»¥çœ‹åˆ°å®ƒè‡ªç§° ***an boject-oriented GUI library for pyglet*** æ˜¾ç„¶ä¹Ÿæ˜¯æŒ‡çš„è¿™ä¸ªæ„æ€ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå’Œå£°æ˜å¼çš„GUIæ¡†æ¶ç›¸æ¯”ï¼Œ`glooey`ç®€ç›´æœ‰äº›å¼‚åŸŸé£æƒ…äº†
- æœ¬æ–‡ä½¿ç”¨çš„æ˜¯æˆ‘ä¸ªäººå¯¹`glooey`çš„ä¸€ä¸ªå°è£…ï¼ˆä»“åº“åœ°å€`github.com/CNSeniorious000/Slides`ï¼‰ï¼Œå¹¶å®ç°äº†ä¸€äº›æ²¡é‚£ä¹ˆå¼‚åŸŸé£æƒ…çš„æ§ä»¶
- ä¹‹æ‰€ä»¥èµ·å`Slides`ï¼Œå…¶å®å®ƒåŸæœ¬æ˜¯ä¸€ä¸ªæ„åœ¨å®ç°ä¸€äº›ä¸`PowerPoint`ç±»ä¼¼åŠŸèƒ½çš„åº“ï¼ˆç›¸å…³æ–‡ä»¶å¯ä»¥åœ¨`old`æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ï¼‰ï¼Œè¿™ä¸ªæœˆçªç„¶æŠŠå®ƒç¿»å‡ºæ¥å°±æ˜¯å› ä¸ºè®¤è¯†äº†`glooey`ğŸ˜ï¼Œäºæ˜¯å°±é€æ¸åç¦»åšè¿™ä¸ªåº“çš„æœ¬æ„äº†

è·‘åäº†â€¦â€¦æ¥ä¸‹æ¥å®ç°è¾“å…¥æ¡†å’Œç»“æœåˆ—è¡¨ã€‚
```python
from slides.core.everything import *
from pyperclip import copy

class MainWindow(UI):
    """ä¸»çª—å£"""
    
    def __init__(self):
        UI.__init__(self)  # or super().__init__()
        vbox = VBox()  # çºµå‘å¸ƒå±€
        self.add(vbox)
        text_field = Form()  # è¾“å…¥æ¡†
        vbox.add(text_field)
        for _ in range(5):
            vbox.add(BaseButton(" "))
        buttons = vbox.get_children()[1:]  # æŒ‰é’®åˆ—è¡¨ï¼ˆchildrenç¬¬ä¸€ä¸ªæ˜¯è¾“å…¥æ¡†ï¼‰
        
        def callback(button):
            copy(widget.foreground.text)  # å°†æŒ‰é’®ä¸Šçš„æ–‡å­—å¤åˆ¶åˆ°å‰ªè´´æ¿
        for button in buttons:
            button.push_handlers(on_click=callback)  # ç»‘å®šä¸ºæŒ‰é’®ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°
        
        """ã€å…³é”®ã€‘ä»¥ä¸‹å®ç°ç»“æœåˆ—è¡¨çš„æ›´æ–°"""
        
        last = ""  # åˆå§‹è¾“å…¥
        def update():
            nonlocal last  # æ‰©å¤§ä½œç”¨åŸŸ
            this = text_field.text
            if last == this:
                return  # æ²¡æœ‰å˜åŒ–
            last = this  # æœ‰å˜åŒ–ï¼Œåˆ·æ–°è®°å¿†
            for i, result in enumerate(search(this)):
                match, score = result  # è§£åŒ…
                # matchæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œscoreæ˜¯åŒ¹é…ç‡
                # å…¶å®matchå·²ç»æ˜¯å…³é”®å­—äº† ç”¨å®ƒåšå˜é‡åä¸å¤ªå¥½ åˆ«å­¦æˆ‘
                button = buttons[i]  # ç¬¬iä¸ªæŒ‰é’®
                label = button.foreground  # æŒ‰é’®ä¸Šçš„æ–‡æœ¬å±‚
                label.text = match  # æœ‰è¶£çš„æ˜¯
                color = (preset.used().text_color[:3], 55 + score * 2)
                # preset.used()è¿”å›ç›®å‰çš„ä¸»é¢˜
                # å–ä¸»é¢˜ä¸­text_colorçš„rgb, ä½†é€æ˜åº¦æ­£ç›¸å…³äºåŒ¹é…ç‡
                label.color = color
        self.callback.append(update)  # GUIä¼šè‡ªåŠ¨ä¸æ–­è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ˆåœ¨æ¯å¸§é‡ç»˜å‰ï¼‰
```
å…¶å®è¿™æ˜¯æˆ‘å‰é¢å±•ç¤ºç‰ˆæœ¬çš„ç®€åŒ–ç‰ˆï¼Œä½†å·²ç»è¶³å¤Ÿå±•ç¤º`Slides`çš„éƒ¨åˆ†ç‰¹è‰²â€”â€”
- ä¸»é¢˜æ˜¯è¿è¡Œæ—¶ç”¨`preset.used`è·å¾—çš„ï¼Œå› æ­¤å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹ä¸»é¢˜ï¼ˆç›®å‰ä¸»è¦æ˜¯é…è‰²ï¼‰
  - åœ¨glooeyçš„æ¡†æ¶ä¸‹å®ç°è¿™ä¸ªçœŸæ˜¯å¤ªéš¾äº†ğŸ˜­
- åªè¦æŠŠ`BaseButton`æ¢æˆ`BoldButton`å°±æœ‰å‰é¢å±•ç¤ºçš„**å¯å˜å­—ä½“**çš„å•¦ï¼ä½†æ˜¯å®ƒéœ€è¦æ‰‹åŠ¨åˆ¶å®šé…è‰²ï¼Œè¯¦è§å®Œæ•´ä»£ç 
- è¿™ä¹ˆç‚¹ä¸œè¥¿å†™äº†30è¡Œå®Œå…¨æ˜¯ä¸ºäº†åœ¨å¾®ä¿¡ä¸‹çš„æ’ç‰ˆã€‚å…¶å®åæ¥è¡Œæå®šå¯è¯»æ€§ä¹Ÿä¸ä¼šå¤ªä½

æœ€åï¼Œå£°æ˜å…¥å£
```python
if __name__ == '__main__':
    with preset.Vue.using(), MainWindow():
        pass
```
`preset.Vue`æ˜¯æˆ‘æŒ‰`Vue`çš„é…è‰²åšçš„ä¸€ä¸ªä¸»é¢˜ã€‚`Theme`ç±»å’Œ`UI`ç±»éƒ½å®ç°äº†**ä¸Šä¸‹æ–‡ç®¡ç†å™¨åè®®**ã€‚ç»“æŸwithå—åå°±ä¼šè‡ªåŠ¨è°ƒç”¨`pyglet.app.run()`å¯åŠ¨ä¸»äº‹ä»¶å¾ªç¯ã€‚

ï¼ˆå› æ­¤å…¶å®å®Œå…¨å¯ä»¥æŠŠä¸Šé¢çš„ä»£ç å†™åˆ°`pass`æ‰€åœ¨çš„è¿™ä¸ªå—é‡Œã€‚é‚£æ ·ç”šè‡³è¿˜èƒ½å‡å°‘ä¸€äº›bugï¼ˆåè¯äº†ï¼‰~~è‡³äºä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰è¿™ä¹ˆåšï¼Œå…¶å®æ˜¯æˆ‘å†™é“è¿™æ®µæ‰æƒ³èµ·æ¥ğŸ˜‚~~ï¼‰

---

**ç»¼ä¸Šï¼Œæˆ‘ä»‹ç»äº†ç”¨pythonä¸­ç°æˆçš„ä¸€äº›åº“ï¼Œåœ¨50è¡Œé‡Œå®ç°äº†ä¸€ä¸ªæè½»é‡çš„æŸ¥è¯appï¼Œç•Œé¢ç°ä»£ï¼Œä»£ç æ¸…æ™°ã€‚**

æœ€åï¼Œæ¬¢è¿å¤§å®¶å…‰é¡¾æˆ‘çš„ä»£ç ä»“åº“ï¼ˆæ—¥æ›´å“¦ï¼‰ï¼ˆä½†ç°åœ¨é‡Œé¢runnableçš„å¹¶ä¸å¤šï¼‰

> æœ¬æ–‡çš„æºä»£ç åœ¨è¿™é‡Œä¸‹è½½ï¼š
> github.com/CNSeniorious000/Slides/blob/master/examples/dictionary/app.py

ä¹Ÿæ¬¢è¿å¤§å®¶çœ‹çœ‹æˆ‘å¦ä¸€ä¸ªGUIæ¡†æ¶`FPgui`ï¼Œé‚£ä¸ªæ›´é‡é‡çº§ã€æ›´åº•å±‚ã€å®Œæˆåº¦æ›´ä½ã€‚~~ä½†æˆ‘è¿‘ä¸€ä¸ªæœˆæ²¡ç¢°è¿‡äº†~~

![latest logo](FPgui.svg)

